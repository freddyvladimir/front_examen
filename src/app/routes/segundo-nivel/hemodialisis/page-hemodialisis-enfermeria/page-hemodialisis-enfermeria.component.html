<div fxLayout="row" fxLayoutAlign="start center" fxLayoutGap="2%">
    <button mat-raised-button>
        <mat-icon class="indicador">assignment</mat-icon>
    </button>
    <div>
        <strong>Hemodiálisis</strong>
        <p>Enfermería</p>
    </div>
</div>

<div *ngIf="isVisibleSearch">
    <mat-card>
        <mat-card-title></mat-card-title>
        <mat-card-subtitle></mat-card-subtitle>
        <mat-card-content>
            <div class="container" fxLayout="row" fxLayout.xs="column" fxLayoutWrap fxLayoutGap="0.5%"
                fxLayoutAlign="left">
                <div fxFlex="50%">
                </div>
                <div fxFlex="50%">
                    <mat-form-field appearance="outline">
                        <mat-label>Choose a date</mat-label>
                        <input matInput [matDatepicker]="picker" (dateChange)="listEnfermeria('change', $event)" #input>
                        <mat-hint>MM/DD/YYYY</mat-hint>
                        <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                        <mat-datepicker #picker></mat-datepicker>
                    </mat-form-field>
                </div>
            </div>
            <div class="mat-elevation-z8 table-container">
                <table mat-table [dataSource]="dataSource" class="mat-elevation-z8">

                    <ng-container matColumnDef="serial">
                        <th mat-header-cell *matHeaderCellDef> Nª</th>
                        <td mat-cell *matCellDef="let row"> {{row.hjid}} </td>
                    </ng-container>
                    <ng-container matColumnDef="siis">
                        <th mat-header-cell *matHeaderCellDef> HC. SIIS </th>
                        <td mat-cell *matCellDef="let row"> {{row.hc_siis}} </td>
                    </ng-container>
                    <ng-container matColumnDef="sice">
                        <th mat-header-cell *matHeaderCellDef> HC. SICE </th>
                        <td mat-cell *matCellDef="let row"> {{row.hc_sice}} </td>
                    </ng-container>
                    <ng-container matColumnDef="nombres">
                        <th mat-header-cell *matHeaderCellDef> Nombres </th>
                        <td mat-cell *matCellDef="let row"> {{row.nombres}} </td>
                    </ng-container>
                    <ng-container matColumnDef="paterno">
                        <th mat-header-cell *matHeaderCellDef> Paterno </th>
                        <td mat-cell *matCellDef="let row"> {{row.paterno}} </td>
                    </ng-container>
                    <ng-container matColumnDef="materno">
                        <th mat-header-cell *matHeaderCellDef> Materno </th>
                        <td mat-cell *matCellDef="let row"> {{row.materno}} </td>
                    </ng-container>
                    <ng-container matColumnDef="codigo">
                        <th mat-header-cell *matHeaderCellDef> Codigo </th>
                        <td mat-cell *matCellDef="let row"> {{row.codigo}} </td>
                    </ng-container>
                    <ng-container matColumnDef="edad">
                        <th mat-header-cell *matHeaderCellDef> Edad </th>
                        <td mat-cell *matCellDef="let row"> {{row.hjedad}} </td>
                    </ng-container>
                    <ng-container matColumnDef="fecha">
                        <th mat-header-cell *matHeaderCellDef> Fecha </th>
                        <td mat-cell *matCellDef="let row"> {{row.fsolicitud}} </td>
                    </ng-container>
                    <ng-container matColumnDef="opciones">
                        <th mat-header-cell *matHeaderCellDef> Opciones </th>
                        <td mat-cell *matCellDef="let row">
                            <div fxLayoutAlign="end center" fxLayout.sm="column" fxLayout.xs="column" fxLayout.md="row" fxLayout="row" fxLayoutGap="0.5%">
                                <div fxFlex="100%">
                                    <button mat-icon-button color="primary" matTooltip="Atención Enfermeria" (click)="getEnfermeria(row)" class="btn_eliminar">
                                        <mat-icon>local_hospital</mat-icon>
                                    </button>
                                </div>
                            </div>
                        </td>
                    </ng-container>

                    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
                    <tr class="mat-row" *matNoDataRow>
                        <td class="mat-cell" colspan="4">No se encontraron resultados "{{input.value}}"</td>
                    </tr>
                </table>
                <mat-paginator [pageSizeOptions]="[5, 10, 25, 100]" aria-label="Select page of users"></mat-paginator>
            </div>
        </mat-card-content>
    </mat-card>
</div>
<div *ngIf="isVisibleFormDatosPaciente">
    <mat-card>
        <mat-card-title></mat-card-title>
        <mat-card-subtitle></mat-card-subtitle>
        <mat-card-content>
            <h2 mat-dialog-title>REGISTRO DATOS DEL PACIENTEssss</h2>

            <form [formGroup]="pacienteEnfermeriaForm" (ngSubmit)="onSubmit()">
                <h4 mat-dialog-title>DATOS DEL PACIENTE</h4>
                <div fxLayoutAlign="center center" fxLayout.sm="column" fxLayout.xs="column" fxLayout.md="row"
                    fxLayout="row" fxLayoutGap="0.6%">
                    <div fxFlex="33%">
                        <mat-form-field class="example-full-width" appearance="outline">
                            <mat-label>Peso Seco:</mat-label>
                            <input matInput formControlName="enf_pesoseco">
                        </mat-form-field>
                    </div>
                    <div fxFlex="33%">
                        <mat-form-field class="example-full-width" appearance="outline">
                            <mat-label>Peso Ingreso:</mat-label>
                            <input matInput formControlName="enf_pesoprehd">
                        </mat-form-field>
                    </div>
                    <div fxFlex="33%">
                        <mat-form-field class="example-full-width" appearance="outline">
                            <mat-label>Peso egreso:</mat-label>
                            <input matInput formControlName="enf_pesoposthd">
                        </mat-form-field>
                    </div>
                </div>
                <div fxLayoutAlign="center center" fxLayout.sm="column" fxLayout.xs="column" fxLayout.md="row"
                    fxLayout="row" fxLayoutGap="0.6%">
                    <div fxFlex="33%">
                        <mat-form-field class="example-full-width" appearance="outline">
                            <mat-label>Temperatura ingreso:</mat-label>
                            <input matInput formControlName="enf_temppre">
                        </mat-form-field>
                    </div>
                    <div fxFlex="33%">
                        <mat-form-field class="example-full-width" appearance="outline">
                            <mat-label>Temperatura egreso:</mat-label>
                            <input matInput formControlName="enf_temppost">
                        </mat-form-field>
                    </div>
                    <div fxFlex="33%">

                    </div>
                </div>
                <h4 mat-dialog-title>REGISTRO DE HEMODIÁLISIS</h4>
                <div fxLayoutAlign="center center" fxLayout.sm="column" fxLayout.xs="column" fxLayout.md="row"
                    fxLayout="row" fxLayoutGap="0.6%">
                    <div fxFlex="25%">
                        <mat-form-field class="example-full-width" appearance="outline">
                            <mat-label>Tipo de Filtro:</mat-label>
                            <input matInput formControlName="enf_filtro">
                        </mat-form-field>
                    </div>
                    <div fxFlex="25%">
                        <mat-form-field class="example-full-width" appearance="outline">
                            <mat-label>Reutilización filtro:</mat-label>
                            <input matInput formControlName="enf_filtrouso">
                        </mat-form-field>
                    </div>
                    <div fxFlex="25%">
                        <mat-form-field class="example-full-width" appearance="outline">
                            <mat-label>Lineas:</mat-label>
                            <input matInput formControlName="enf_lineas">
                        </mat-form-field>
                    </div>
                    <div fxFlex="25%">
                        <mat-form-field class="example-full-width" appearance="outline">
                            <mat-label>Reutilización líneas A/V:</mat-label>
                            <input matInput formControlName="enf_lineasuso">
                        </mat-form-field>
                    </div>
                </div>
                <div fxLayoutAlign="center center" fxLayout.sm="column" fxLayout.xs="column" fxLayout.md="row"
                    fxLayout="row" fxLayoutGap="0.6%">
                    <div fxFlex="25%">
                        <mat-form-field class="example-full-width" appearance="outline">
                            <mat-label>Responsable:</mat-label>
                            <input matInput formControlName="enf_responsable">
                        </mat-form-field>
                    </div>
                    <div fxFlex="25%">
                        <mat-form-field class="example-full-width" appearance="outline">
                            <mat-label>Primming:</mat-label>
                            <input matInput formControlName="enf_primming">
                        </mat-form-field>
                    </div>

                    <div fxFlex="25%">
                        <mat-form-field class="example-full-width" appearance="outline">
                            <mat-label>Temperatura:</mat-label>
                            <input matInput formControlName="enf_temperatura">
                        </mat-form-field>
                    </div>
                    <div fxFlex="25%">
                        <mat-form-field class="example-full-width" appearance="outline">
                            <mat-label>P/A ingreso:</mat-label>
                            <input matInput formControlName="enf_parterial">
                        </mat-form-field>
                    </div>
                </div>
                <div fxLayoutAlign="center center" fxLayout.sm="column" fxLayout.xs="column" fxLayout.md="row"
                    fxLayout="row" fxLayoutGap="0.6%">
                    <div fxFlex="25%">
                        <mat-form-field class="example-full-width" appearance="outline">
                            <mat-label>Sodio Prescripto:</mat-label>
                            <input matInput formControlName="enf_sodioprescrip">
                        </mat-form-field>
                    </div>
                    <div fxFlex="25%">
                        <mat-form-field class="example-full-width" appearance="outline">
                            <mat-label>Bicarbonato:</mat-label>
                            <input matInput formControlName="enf_bicarbonato">
                        </mat-form-field>
                    </div>

                    <div fxFlex="25%">
                        <mat-form-field class="example-full-width" appearance="outline">
                            <mat-label>K:</mat-label>
                            <input matInput formControlName="enf_k">
                        </mat-form-field>
                    </div>
                    <div fxFlex="25%">
                        <mat-form-field class="example-full-width" appearance="outline">
                            <mat-label>Ca:</mat-label>
                            <input matInput formControlName="enf_ca">
                        </mat-form-field>
                    </div>
                </div>
                <div fxLayoutAlign="center center" fxLayout.sm="column" fxLayout.xs="column" fxLayout.md="row"
                    fxLayout="row" fxLayoutGap="0.6%">
                    <div fxFlex="33%">
                        <mat-form-field class="example-full-width" appearance="outline">
                            <mat-label>Ultrafiltración Sesión:</mat-label>
                            <input matInput formControlName="enf_us">
                        </mat-form-field>
                    </div>
                    <div fxFlex="33%">
                        <mat-form-field class="example-full-width" appearance="outline">
                            <mat-label>Ultrafiltración Final:</mat-label>
                            <input matInput formControlName="enf_uf">
                        </mat-form-field>
                    </div>
                    <div fxFlex="33%">
                        <mat-form-field class="example-full-width" appearance="outline">
                            <mat-label>Devol:</mat-label>
                            <input matInput formControlName="enf_devol">
                        </mat-form-field>
                    </div>
                </div>

                <div fxLayoutAlign="center center" fxLayout.sm="column" fxLayout.xs="column" fxLayout.md="row"
                    fxLayout="row" fxLayoutGap="0.6%">
                    <div fxFlex="25%">
                        <mat-form-field class="example-full-width" appearance="outline">
                            <mat-label> Perfiles Sodio: </mat-label>
                            <select matNativeControl id="enf_perfsodio" name="enf_perfsodio" formControlName="enf_perfsodio" #SelectPerfSodio>
                                <option value="Si"> SI </option>
                                <option value="No"> NO </option>
                            </select>
                        </mat-form-field>
                    </div>
                    <div fxFlex="25%">
                        <mat-form-field class="example-full-width" appearance="outline">
                            <mat-label>Perfiles UF:</mat-label>
                            <select matNativeControl id="enf_perfuf" name="enf_perfuf" formControlName="enf_perfuf" #SelectPerfUF>
                                <option value="Si"> SI </option>
                                <option value="No"> NO </option>
                            </select>
                        </mat-form-field>
                    </div>

                    <div fxFlex="25%">
                        <mat-form-field class="example-full-width" appearance="outline">
                            <mat-label>K/TV online:</mat-label>
                            <select matNativeControl id="enf_ktvonline" name="enf_ktvonline" formControlName="enf_ktvonline" #SelectKTV>
                                <option value="Si"> SI </option>
                                <option value="No"> NO </option>
                            </select>
                        </mat-form-field>
                    </div>
                    <div fxFlex="25%">
                        <mat-form-field class="example-full-width" appearance="outline">
                            <mat-label>K/TV online Valor:</mat-label>
                            <input matInput formControlName="enf_ktvonlineval">
                        </mat-form-field>
                    </div>
                </div>

                <div fxLayoutAlign="center center" fxLayout.sm="column" fxLayout.xs="column" fxLayout.md="row"
                    fxLayout="row" fxLayoutGap="0.6%">
                    <div fxFlex="25%">
                        <mat-form-field class="example-full-width" appearance="outline">
                            <mat-label>Anticoagulante:</mat-label>
                            <select matNativeControl id="enf_anticoagu" name="enf_anticoagu" formControlName="enf_anticoagu" #SelectAnticoag (change)="accesoAnticoagu(SelectAnticoag.value)">
                                <option value="Si"> SI </option>
                                <option value="No"> NO </option>
                            </select>
                        </mat-form-field>
                    </div>
                    <div fxFlex="25%" >
                        <mat-form-field class="example-full-width" appearance="outline" *ngIf="habHeparina">
                            <mat-label>Heparina::</mat-label>
                            <input matInput formControlName="enf_heparina">
                        </mat-form-field>
                    </div>

                    <div fxFlex="25%">
                        <mat-form-field class="example-full-width" appearance="outline">
                            <mat-label>Anticoagulante Continuo:</mat-label>
                            <select matNativeControl id="enf_anticoagucont" name="enf_anticoagucont" formControlName="enf_anticoagucont" #SelectAnticoagCont (change)="accesoAnticoaguCont(SelectAnticoagCont.value)">
                                <option value="Si"> SI </option>
                                <option value="No"> NO </option>
                            </select>
                        </mat-form-field>
                    </div>
                    <div fxFlex="25%">
                        <mat-form-field class="example-full-width" appearance="outline" *ngIf="habDosificacion1">
                            <mat-label>Dosificación:</mat-label>
                            <input matInput formControlName="enf_dosificacion1">
                        </mat-form-field>
                    </div>
                </div>

                <div fxLayoutAlign="center center" fxLayout.sm="column" fxLayout.xs="column" fxLayout.md="row"
                    fxLayout="row" fxLayoutGap="0.6%">
                    <div fxFlex="25%">
                        <mat-form-field class="example-full-width" appearance="outline">
                            <mat-label>Anticoagulante Fraccionado:</mat-label>
                            <select matNativeControl id="enf_anticoagufrac" name="enf_anticoagufrac" formControlName="enf_anticoagufrac" #SelectAnticoagFracc (change)="accesoAnticoaguFracc(SelectAnticoagFracc.value)">
                                <option value="Si"> SI </option>
                                <option value="No"> NO </option>
                            </select>
                        </mat-form-field>
                    </div>
                    <div fxFlex="25%">
                        <mat-form-field class="example-full-width" appearance="outline" *ngIf="habDosificacion2">
                            <mat-label>Dosificación:</mat-label>
                            <input matInput formControlName="enf_dosificacion2">
                        </mat-form-field>
                    </div>
                    <div fxFlex="25%"></div>
                    <div fxFlex="25%"></div>
                </div>

                <div fxLayoutAlign="left" fxLayout.sm="column" fxLayout.xs="column" fxLayout.md="row"
                    fxLayout="row" fxLayoutGap="0.6%">
                    <div fxFlex="50%">
                        <button mat-raised-button color="primary" (click)="showDialogHoraAtencion()"> <mat-icon> add</mat-icon> Nueva hora de
                            atención</button>

                    </div>
                </div>

                <div class="mat-elevation-z8 table-container">
                    <table mat-table [dataSource]="dataHorarioAtencion" class="container" matSort>
                        <ng-container matColumnDef="nro">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header> Nª </th>
                            <td mat-cell *matCellDef="let row; index as i"> {{i + 1}} </td>
                        </ng-container>
                        <ng-container matColumnDef="hora">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header>Hora</th>
                            <td mat-cell *matCellDef="let row"> {{row.enf_hora}} </td>
                        </ng-container>
                        <ng-container matColumnDef="temp">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header> TEMP. </th>
                            <td mat-cell *matCellDef="let row"> {{row.enf_temp}} </td>
                        </ng-container>
                        <ng-container matColumnDef="pa">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header> PA. </th>
                            <td mat-cell *matCellDef="let row"> {{row.enf_pa}} </td>
                        </ng-container>
                        <ng-container matColumnDef="pvenosa">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header> Pvenosa. </th>
                            <td mat-cell *matCellDef="let row"> {{row.enf_pvenosa}} </td>
                        </ng-container>
                        <ng-container matColumnDef="sat">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header> SAT 02 </th>
                            <td mat-cell *matCellDef="let row"> {{row.enf_sat}} </td>
                        </ng-container>
                        <ng-container matColumnDef="flujosangre">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header> Flujo Sangre </th>
                            <td mat-cell *matCellDef="let row"> {{row.enf_fs}} </td>
                        </ng-container>
                        <ng-container matColumnDef="fc">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header> FC </th>
                            <td mat-cell *matCellDef="let row"> {{row.enf_fc}} </td>
                        </ng-container>
                        <ng-container matColumnDef="fr">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header> FR </th>
                            <td mat-cell *matCellDef="let row"> {{row.enf_fr}} </td>
                        </ng-container>
                        <ng-container matColumnDef="qd">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header> QD </th>
                            <td mat-cell *matCellDef="let row"> {{row.enf_qd}} </td>
                        </ng-container>
                        <ng-container matColumnDef="ptm">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header> PTM </th>
                            <td mat-cell *matCellDef="let row"> {{row.enf_ptm}} </td>
                        </ng-container>
                        <ng-container matColumnDef="conductividad">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header> Conductividad </th>
                            <td mat-cell *matCellDef="let row"> {{row.enf_condu}} </td>
                        </ng-container>
                        <ng-container matColumnDef="observaciones">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header> Observaciones </th>
                            <td mat-cell *matCellDef="let row"> {{row.enf_obs}} </td>
                        </ng-container>
                        <ng-container matColumnDef="opciones">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header> Opciones </th>
                            <td mat-cell *matCellDef="let row">
                                <div fxLayoutAlign="end center" fxLayout.sm="column" fxLayout.xs="column"
                                    fxLayout.md="row" fxLayout="row" fxLayoutGap="0.5%">
                                    <div fxFlex="50%">
                                        <button mat-icon-button color="primary" matTooltip="Editar" class="btn_eliminar" matSuffix mat-icon-button aria-label="Clear" (click)="editar(row);">
                                            <mat-icon> edit</mat-icon>
                                        </button>
                                    </div>
                                    <div fxFlex="50%">
                                        <button mat-icon-button color="primary" matTooltip="Eliminar" class="btn_eliminar" (click)="eliminar($event, row);">
                                            <mat-icon> delete</mat-icon>
                                        </button>
                                    </div>
                                </div>
                            </td>
                        </ng-container>
                        <tr mat-header-row *matHeaderRowDef="displayedColumnsHorarioAtencion"></tr>
                        <tr mat-row *matRowDef="let row; columns: displayedColumnsHorarioAtencion;"></tr>
                        <tr class="mat-row" *matNoDataRow>
                            <td class="mat-cell" colspan="4">No se registro horarios de atención</td>
                        </tr>
                    </table>
                </div>
                    <br> <br>
                <div fxLayoutAlign="center center" fxLayout.sm="column" fxLayout.xs="column" fxLayout.md="row"
                    fxLayout="row" fxLayoutGap="0.6%">
                    <div fxFlex="50%">
                        <mat-form-field class="example-full-width" appearance="outline">
                            <mat-label>Evaluación de Enfermería:</mat-label>
                            <textarea matInput autocomplete="off" placeholder="Evaluación de Enfermeria" name="enf_evaluacion"  cols="50" rows="5" formControlName="enf_evaluacion"></textarea>
                        </mat-form-field>
                    </div>
                    <div fxFlex="50%">
                        <mat-form-field class="example-full-width" appearance="outline">
                            <mat-label> Medicamentos Utilizados:</mat-label>
                            <textarea matInput autocomplete="off" placeholder="Medicamentos Utilizados" name="enf_medicamentos"  cols="50" rows="5" formControlName="enf_medicamentos"></textarea>
                        </mat-form-field>
                    </div>
                </div>

                <mat-card-actions align="end">
                    <button mat-raised-button (click)="showListEnfermeria()"> <mat-icon> replay </mat-icon> Regresar</button>
                    <button mat-raised-button cdkFocusInitial color="primary" (click)="guardarRegistro()">Guardar</button>
                </mat-card-actions>
            </form>
        </mat-card-content>
    </mat-card>
</div>
